(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3b87fd4"],{"0611":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Metagenome-outer"},[i("el-container",[i("el-aside",{attrs:{width:"250px"}},[i("el-card",{staticClass:"aside-card",staticStyle:{height:"100%"},attrs:{shadow:"always"}},[i("h4",[t._v("projects")]),i("div",{staticClass:"mm-trees-wrap"},[i("el-tree",{ref:"tree",attrs:{data:t.projectsData,"show-checkbox":"","node-key":"id","default-checked-keys":t.projectsDataChecked,props:t.defaultProps},on:{"check-change":t.handleNodeClick}})],1)])],1),i("el-container",[i("el-main",[i("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"always"}},[t.tabsActiveItem.label?i("p",{staticClass:"mmc-link"},[i("span",[t._v(t._s(t.tabsActiveItem.label))]),i("el-link",{attrs:{href:t.tabsActiveItem.link,target:"_blank",type:"primary"}},[t._v("Literature Link")]),i("el-link",{attrs:{type:"primary",target:"_blank",href:t.tabsActiveItem.link}},[t._v("EMBL Database Link")])],1):i("p"),i("p",{staticClass:"metahome-tip"},[i("span",[t._v(t._s(t.tabsActiveItem.description))])])]),i("el-tabs",{attrs:{type:"card"},on:{"tab-remove":t.removeTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e,n){return i("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[i("div",{staticClass:"mm-con-inner"},[i("h6",{staticClass:"mm-con-title"},[t._v("Tag")]),i("el-checkbox-group",{model:{value:t.samplesChecklist,callback:function(e){t.samplesChecklist=e},expression:"samplesChecklist"}},t._l(t.tabsActiveItem.samples,function(t,e){return i("el-checkbox",{key:e,attrs:{label:t.name}})}),1),i("el-divider"),i("h6",{staticClass:"mm-con-title"},[t._v("Metadata")]),i("div",[i("el-checkbox-group",{model:{value:t.MetaChecklist,callback:function(e){t.MetaChecklist=e},expression:"MetaChecklist"}},t._l(t.prjectMeta,function(t,e){return i("el-checkbox",{key:e,attrs:{label:t}})}),1)],1),i("el-divider"),i("h6",{staticClass:"mm-con-title"},[t._v("Sample")]),i("div",{staticClass:"mm-table",staticStyle:{"margin-bottom":"10px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activeSamples,height:"350",border:""}},[i("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),i("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),i("el-table-column",{attrs:{prop:"Project",label:"Project"}}),t._l(t.projectActiveMeta,function(t,e){return i("el-table-column",{key:e,attrs:{prop:t,label:t}})}),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},nativeOn:{click:function(a){return a.preventDefault(),t.addAllA(e.$index,t.activeSamples)}}},[t._v("Add all")])]}},{key:"default",fn:function(e){return[i("el-button",{staticClass:"add-samll",attrs:{size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.addCat(e.$index,e.row)}}},[i("img",{attrs:{src:a("766d"),alt:""}})])]}}],null,!0)})],2)],1)],1)])}),1)],1)],1)],1)],1)},n=[],l=(a("b54a"),a("6762"),a("2fdb"),a("7f7f"),a("ac6a"),a("510f")),c=a("8678"),s=a("f65e"),r={name:"home",mixins:[l["a"]],data:function(){return{tableData:[],checkList:["选中且禁用","复选框 A"],samplesChecklist:[],MetaChecklist:[],editableTabsValue:"2",tabsActiveItem:{},editableTabs:[],tabIndex:2,projectActiveMeta:[],prjectMeta:[],activeSamples:[],projectSamplesList:[],projectsDataChecked:[],projectsData:[],defaultProps:{children:"children",label:"label"}}},components:{},methods:{addCat:function(t,e){Object(s["c"])({Project:e.Project,SampleID:e.SampleID})},addAllA:function(t,e){e.forEach(function(t){Object(s["c"])({Project:t.Project,SampleID:t.SampleID})})},handleCheckedCitiesChange:function(t){t.length},handleNodeClick:function(t,e){e?this.addTab(t.label,t.id):this.removeTab(t.label)},addTab:function(t,e){this.editableTabs.some(function(e){return e.name==t})?this.editableTabsValue=t:(this.editableTabs.push({title:t,name:t,content:"New Tab content"}),this.editableTabsValue=t,this.projectSamplesApiFA(e))},removeTab:function(t){var e=this.editableTabs,a=this.editableTabsValue;a===t&&e.forEach(function(i,n){if(i.name===t){var l=e[n+1]||e[n-1];l&&(a=l.name)}}),this.editableTabsValue=a,this.editableTabs=e.filter(function(e){return e.name!==t}),this.editableTabs.length||(this.tabsActiveItem={})},handleTabsEdit:function(t,e){if("add"===e){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}if("remove"===e){var i=this.editableTabs,n=this.editableTabsValue;n===t&&i.forEach(function(e,a){if(e.name===t){var l=i[a+1]||i[a-1];l&&(n=l.name)}}),this.editableTabsValue=n,this.editableTabs=i.filter(function(e){return e.name!==t})}},projectSamplesApiFA:function(t){var e=this;this.activeSamples=[],Object(c["h"])(t).then(function(t){var a=t.meta,i=void 0===a?[]:a,n=t.samples,l=void 0===n?[]:n;e.prjectMeta=i,e.projectSamples=l}).catch(function(){})}},watch:{editableTabsValue:function(t,e){var a="";t&&(a=this.projectsData.filter(function(e){return e.label==t})),this.tabsActiveItem=a[0]},samplesChecklist:function(t,e){var a=[];this.projectSamples.forEach(function(e){t.includes(e.Tags)&&a.push(e)}),this.activeSamples=a},MetaChecklist:function(t,e){this.projectActiveMeta=t}},mounted:function(){var t=this;Object(c["i"])().then(function(e){var a=e,i=[];for(var n in a)if(a.hasOwnProperty(n)){var l=a[n];i.push({id:l.id,label:l.name,description:l.description,link:l.link,samples:l.samples})}t.projectsData=i}).catch(function(){})}},o=r,u=(a("21c9"),a("2877")),b=Object(u["a"])(o,i,n,!1,null,"314d2158",null);e["default"]=b.exports},"21c9":function(t,e,a){"use strict";var i=a("82f3"),n=a.n(i);n.a},"2fdb":function(t,e,a){"use strict";var i=a("5ca1"),n=a("d2c8"),l="includes";i(i.P+i.F*a("5147")(l),"String",{includes:function(t){return!!~n(this,t,l).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"386b":function(t,e,a){var i=a("5ca1"),n=a("79e5"),l=a("be13"),c=/"/g,s=function(t,e,a,i){var n=String(l(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+String(i).replace(c,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var a={};a[t]=e(s),i(i.P+i.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",a)}},5147:function(t,e,a){var i=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,!"/./"[t](e)}catch(n){}}return!0}},6762:function(t,e,a){"use strict";var i=a("5ca1"),n=a("c366")(!0);i(i.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"766d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAAAzklEQVQ4EWNgoAFgJMbMrLrfjv/+MpkyMP47NaOF9QAhPUyEFIDk//1h8P7//18nwz8GH2LUE2UoMQYhqxk1FDk0qMOmSZiC02lWzW+3f/8Y3HC58z8Dgz1QzgSIzwA1HMSlDii+e0Yb604WkIJ/DAxWQI3FeBTDpEyA6kCGYwWMTAzfgBIQQ4FhcAxocC9WlUBBol36j+EoLjMwxDOqfvekV/3+D6IxJLEI0CSiRg3FEtIUCtEkTMGJn6DDmBgPMP0HAkZGfLmJoDEUKQAAHigzRy8bUYEAAAAASUVORK5CYII="},"7f7f":function(t,e,a){var i=a("86cc").f,n=Function.prototype,l=/^\s*function ([^ (]*)/,c="name";c in n||a("9e1e")&&i(n,c,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},"82f3":function(t,e,a){},b54a:function(t,e,a){"use strict";a("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},d2c8:function(t,e,a){var i=a("aae3"),n=a("be13");t.exports=function(t,e,a){if(i(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(t))}}}]);
//# sourceMappingURL=chunk-b3b87fd4.7327ffaf.js.map