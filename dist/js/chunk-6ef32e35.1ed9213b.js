(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef32e35"],{"766d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAAAzklEQVQ4EWNgoAFgJMbMrLrfjv/+MpkyMP47NaOF9QAhPUyEFIDk//1h8P7//18nwz8GH2LUE2UoMQYhqxk1FDk0qMOmSZiC02lWzW+3f/8Y3HC58z8Dgz1QzgSIzwA1HMSlDii+e0Yb604WkIJ/DAxWQI3FeBTDpEyA6kCGYwWMTAzfgBIQQ4FhcAxocC9WlUBBol36j+EoLjMwxDOqfvekV/3+D6IxJLEI0CSiRg3FEtIUCtEkTMGJn6DDmBgPMP0HAkZGfLmJoDEUKQAAHigzRy8bUYEAAAAASUVORK5CYII="},"7ef5":function(e,t,a){},"7f7f":function(e,t,a){var l=a("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,c="name";c in n||a("9e1e")&&l(n,c,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},c900:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"GlobalSearch-outer"},[l("el-row",[l("label",{staticClass:"h3-title"},[e._v("Project： ")]),l("el-select",{staticStyle:{width:"310px"},attrs:{multiple:"",size:"small",filterable:"",placeholder:"Please select project first"},on:{change:e.projectChange},model:{value:e.projectValue,callback:function(t){e.projectValue=t},expression:"projectValue"}},e._l(e.projectOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),l("div",{staticClass:"c-meta-outer"},[e.ruleList.length?l("h3",{staticClass:"h3-title"},[e._v("Please select metadata: ")]):e._e(),e._l(e.ruleList,function(t,a){return l("el-row",{key:a,staticStyle:{"margin-bottom":"20px"}},[l("label",{staticClass:"cmeta-title"},[e._v(e._s(t.name)+":")]),"enum"==t.type?l("el-checkbox-group",{staticClass:"enum-outer",model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},e._l(t.values,function(e,t){return l("el-checkbox",{key:t,attrs:{label:e}})}),1):e._e(),"range"==t.type?l("div",{staticClass:"range-outer"},[l("el-input",{staticClass:"rang-input",attrs:{type:"number",size:"mini",placeholder:"min"},model:{value:t.min,callback:function(a){e.$set(t,"min",a)},expression:"item.min"}}),l("label",{staticClass:"rang-label"},[e._v("-")]),l("el-input",{staticClass:"rang-input",attrs:{type:"number",size:"mini",placeholder:"max"},model:{value:t.max,callback:function(a){e.$set(t,"max",a)},expression:"item.max"}})],1):e._e()],1)}),l("el-row",{staticStyle:{"margin-top":"60px","text-algign":"right"}},[l("el-button",{attrs:{type:"primary"},on:{click:e.searchA}},[e._v("search")])],1)],2),l("el-drawer",{attrs:{title:"Sample",size:"80%",visible:e.drawer,"with-header":!0},on:{"update:visible":function(t){e.drawer=t}}},[l("div",{staticClass:"search-table",staticStyle:{"margin-bottom":"10px"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.activeSamples,border:"",height:"100%"}},[l("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),l("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),l("el-table-column",{attrs:{prop:"Project",label:"Project"}}),e._l(e.projectActiveMeta,function(e,t){return l("el-table-column",{key:t,attrs:{prop:e,label:e}})}),l("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[l("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addAllA(t.$index,e.activeSamples)}}},[e._v("Add all")])]}},{key:"default",fn:function(t){return[l("el-button",{staticClass:"add-samll",attrs:{type:"primary",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addCat(t.$index,e.activeSamples[t.$index])}}},[l("img",{attrs:{src:a("766d"),alt:""}})])]}}])})],2)],1)])],1)},n=[],i=(a("ac6a"),a("7f7f"),a("510f")),c=a("f65e"),r=a("8678"),s={name:"home",mixins:[i["a"]],data:function(){return{drawer:!1,projectActiveMeta:[],activeSamples:[],projectOptions:[],projectValue:"",ruleList:[]}},components:{},methods:{projectsApiFA:function(){var e=this;Object(r["i"])().then(function(t){e.projectOptions=t.map(function(e){return{value:e.id,label:e.name}})}).catch(function(){})},projectChange:function(e){this.searchRulerApiFA({pids:e})},searchRulerApiFA:function(e){var t=this;Object(r["m"])(e).then(function(e){var a=e.ruler||[];a.forEach(function(e){"enum"==e.type?e.checked=[]:"range"==e.type&&(e.min="",e.max="")}),t.ruleList=a}).catch(function(){})},globalSearchApiFA:function(e){var t=this;Object(r["b"])(e).then(function(e){t.projectActiveMeta=e.meta,t.activeSamples=e.samples}).catch(function(){})},searchA:function(){if(this.projectValue){this.drawer=!0;var e={},t=JSON.parse(JSON.stringify(this.ruleList));t.forEach(function(t){"enum"==t.type?e[t.name]=t.checked:"range"==t.type&&(t.min?e[t.name]={min:t.min?+t.min:"",max:t.max?+t.max:""}:e[t.name]={})}),this.globalSearchApiFA({project_id:this.projectValue,filter:e})}else this.$message.warning("Please select project first")},addCat:function(e,t){Object(c["c"])({Project:t.Project,SampleID:t.SampleID})},addAllA:function(e,t){t.forEach(function(e){Object(c["c"])({Project:e.Project,SampleID:e.SampleID})})}},watch:{},mounted:function(){this.projectsApiFA()}},o=s,A=(a("e4da"),a("2877")),u=Object(A["a"])(o,l,n,!1,null,"6f492910",null);t["default"]=u.exports},e4da:function(e,t,a){"use strict";var l=a("7ef5"),n=a.n(l);n.a}}]);
//# sourceMappingURL=chunk-6ef32e35.1ed9213b.js.map