(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00af6be4"],{"0611":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Metagenome-outer"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("h4",[e._v("projects")]),a("div",{staticClass:"mm-trees-wrap"},[a("el-tree",{ref:"tree",attrs:{data:e.projectsData,"show-checkbox":"","node-key":"id","default-checked-keys":e.projectsDataChecked,props:e.defaultProps},on:{"check-change":e.handleNodeClick}})],1)]),a("el-container",[a("el-header",{staticStyle:{height:"auto"}},[a("el-card",{attrs:{shadow:"always"}},[a("p",{staticClass:"mmc-link"},[a("span",[e._v(e._s(e.tabsActiveItem.label))]),a("el-link",{attrs:{href:e.tabsActiveItem.link,type:"primary"}},[e._v("文献链接")]),a("el-link",{attrs:{type:"primary",href:e.tabsActiveItem.link}},[e._v("EMBL数据库连接")])],1),a("p",{staticClass:"metahome-tip"},[a("span",[e._v(e._s(e.tabsActiveItem.description))])])])],1),a("el-main",[a("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(t,s){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[a("div",{staticClass:"mm-con-inner"},[a("h6",{staticClass:"mm-con-title",staticStyle:{"margin-top":"0px"}},[e._v("Samples")]),a("el-checkbox-group",{model:{value:e.samplesChecklist,callback:function(t){e.samplesChecklist=t},expression:"samplesChecklist"}},e._l(e.tabsActiveItem.samples,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})}),1),a("h6",{staticClass:"mm-con-title"},[e._v("Metadata")]),a("div",[a("el-checkbox-group",{model:{value:e.MetaChecklist,callback:function(t){e.MetaChecklist=t},expression:"MetaChecklist"}},e._l(e.prjectMeta,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})}),1)],1),a("h6",{staticClass:"mm-con-title"},[e._v("表格信息")]),a("div",{staticClass:"mm-table",staticStyle:{"margin-bottom":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.activeSamples,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),a("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),a("el-table-column",{attrs:{prop:"Project",label:"Project"}}),e._l(e.projectActiveMeta,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:e}})}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:e.addAllA}},[e._v("添加全部")])]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addCat(t.$index,t.row)}}},[e._v("添加")])]}}],null,!0)})],2)],1)],1)])}),1)],1)],1)],1)],1)},n=[],l=(a("b54a"),a("ac6a"),a("7f7f"),a("510f")),i=a("8678"),c={name:"home",mixins:[l["a"]],data:function(){return{tableData:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-08",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-06",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-07",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],checkList:["选中且禁用","复选框 A"],samplesChecklist:[],MetaChecklist:[],editableTabsValue:"2",tabsActiveItem:{},editableTabs:[],tabIndex:2,projectActiveMeta:[],prjectMeta:[],activeSamples:[],projectSamplesList:[],projectsDataChecked:[],projectsData:[],defaultProps:{children:"children",label:"label"}}},components:{},methods:{addCat:function(e,t){console.log(e,t)},addAllA:function(){},handleCheckedCitiesChange:function(e){e.length},handleNodeClick:function(e,t){console.log(this.$refs.tree.getCheckedNodes()),console.log(this.$refs.tree.getCurrentKey()),console.log(165,e,t),t?this.addTab(e.label,e.id):this.removeTab(e.label)},addTab:function(e,t){console.log(1606,this.projectsDataChecked),this.editableTabs.some(function(t){return t.name==e})?this.editableTabsValue=e:(this.editableTabs.push({title:e,name:e,content:"New Tab content"}),this.editableTabsValue=e,this.projectSamplesApiFA(t))},removeTab:function(e){var t=this.editableTabs,a=this.editableTabsValue;a===e&&t.forEach(function(s,n){if(s.name===e){var l=t[n+1]||t[n-1];l&&(a=l.name)}}),this.editableTabsValue=a,this.editableTabs=t.filter(function(t){return t.name!==e})},handleTabsEdit:function(e,t){if("add"===t){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}if("remove"===t){var s=this.editableTabs,n=this.editableTabsValue;n===e&&s.forEach(function(t,a){if(t.name===e){var l=s[a+1]||s[a-1];l&&(n=l.name)}}),this.editableTabsValue=n,this.editableTabs=s.filter(function(t){return t.name!==e})}},projectSamplesApiFA:function(e){var t=this;this.activeSamples=[],Object(i["e"])(e).then(function(e){var a=e.meta,s=void 0===a?[]:a,n=e.samples,l=void 0===n?[]:n;t.prjectMeta=s,t.projectSamples=l,console.log(213,e)}).catch(function(){})}},watch:{editableTabsValue:function(e,t){var a="";e&&(a=this.projectsData.filter(function(t){return t.label==e})),this.tabsActiveItem=a[0],console.log(224,this.projectsData,e,t,a)},samplesChecklist:function(e,t){var a=this;console.log(251,this.projectSamples,e,t);var s=[];this.projectSamples.forEach(function(t){e.forEach(function(e){console.log(243,t[e]),t[e]&&s.push(t)}),a.activeSamples=s})},MetaChecklist:function(e,t){this.projectActiveMeta=e}},mounted:function(){var e=this;Object(i["f"])().then(function(t){var a=t,s=[];for(var n in a)if(a.hasOwnProperty(n)){var l=a[n];s.push({id:l.id,label:l.name,description:l.description,link:l.link,samples:l.samples})}e.projectsData=s}).catch(function(){})}},o=c,r=(a("9361"),a("2877")),d=Object(r["a"])(o,s,n,!1,null,"dc248bea",null);t["default"]=d.exports},"386b":function(e,t,a){var s=a("5ca1"),n=a("79e5"),l=a("be13"),i=/"/g,c=function(e,t,a,s){var n=String(l(e)),c="<"+t;return""!==a&&(c+=" "+a+'="'+String(s).replace(i,"&quot;")+'"'),c+">"+n+"</"+t+">"};e.exports=function(e,t){var a={};a[e]=t(c),s(s.P+s.F*n(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",a)}},5758:function(e,t,a){},9361:function(e,t,a){"use strict";var s=a("5758"),n=a.n(s);n.a},b54a:function(e,t,a){"use strict";a("386b")("link",function(e){return function(t){return e(this,"a","href",t)}})}}]);
//# sourceMappingURL=chunk-00af6be4.f66a4c8c.js.map