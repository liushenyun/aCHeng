{"version":3,"sources":["webpack:///./src/views/Metagenome/index.vue?f388","webpack:///src/views/Metagenome/index.vue","webpack:///./src/views/Metagenome/index.vue?dbfa","webpack:///./src/views/Metagenome/index.vue","webpack:///./src/image/btn_normal_check.png","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./src/image/btn_selected_check.png","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/image/btn_add_to.png","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/views/Metagenome/index.vue?5879"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","_l","item","k","key","category","subItem","j","on","$event","checkedA","_s","name","sample_num","tabsActiveItem","label","link","description","tabClick","removeTab","model","value","callback","$$v","editableTabsValue","expression","index","title","samplesChecklist","number","metaClick","showInfo","activeSamples","scopedSlots","_u","fn","scope","nativeOn","preventDefault","addAllA","$index","addCat","row","staticRenderFns","mixins","data","tableData","checkList","MetaChecklist","editableTabs","tabIndex","projectActiveMeta","prjectMeta","projectSamplesList","projectSamples","projectsDataChecked","projectsData","defaultProps","children","components","methods","oneMetadataBynameApiFA","dangerouslyUseHTMLString","checked","includes","push","_index","splice","addTab","id","Project","p2","SampleID","forEach","v","some","targetName","content","activeName","tabs","tab","nextTab","filter","projects","length","handleTabsEdit","action","newTabName","projectSamplesApiFA","filterActiveSamples","_list","nVal","Tags","watch","_actvieVal","$nextTick","mounted","component","module","exports","$export","context","INCLUDES","P","F","searchString","indexOf","arguments","undefined","MATCH","KEY","re","e","f","$includes","el","dP","FProto","Function","prototype","nameRE","NAME","configurable","get","match","isRegExp","defined","that","TypeError","String"],"mappings":"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","file":"js/chunk-5dada1c9.c2f4b262.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Metagenome-outer\"},[_c('el-container',[_c('el-aside',{attrs:{\"width\":\"300px\"}},[_c('el-card',{staticClass:\"aside-card\",staticStyle:{\"height\":\"100%\"},attrs:{\"shadow\":\"always\"}},[_c('h4',[_vm._v(\"projects\")]),_c('div',{staticClass:\"mm-trees-wrap\"},[_c('el-collapse',_vm._l((_vm.projectsData),function(item,k){return _c('el-collapse-item',{key:k,attrs:{\"title\":item.category,\"name\":k}},[_c('ul',{staticClass:\"mm-ul\"},_vm._l((item.projects),function(subItem,j){return _c('li',{key:j,on:{\"click\":function($event){return _vm.checkedA(subItem)}}},[_c('span',[_vm._v(_vm._s(subItem.name)+\"(\"+_vm._s(subItem.sample_num)+\")\")]),(subItem.checked)?_c('img',{attrs:{\"src\":require(\"../../image/btn_selected_check.png\"),\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"../../image/btn_normal_check.png\"),\"alt\":\"\"}})])}),0)])}),1)],1)])],1),_c('el-container',[_c('el-main',[_c('el-card',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"shadow\":\"always\"}},[(_vm.tabsActiveItem.label)?_c('p',{staticClass:\"mmc-link\"},[_c('span',[_vm._v(_vm._s(_vm.tabsActiveItem.label))]),_c('el-link',{attrs:{\"href\":_vm.tabsActiveItem.link,\"target\":\"_blank\",\"type\":\"primary\"}},[_vm._v(\"Literature Link\")]),_c('el-link',{attrs:{\"type\":\"primary\",\"target\":\"_blank\",\"href\":_vm.tabsActiveItem.link}},[_vm._v(\"EMBL Database Link\")])],1):_c('p'),_c('p',{staticClass:\"metahome-tip\"},[_c('span',[_vm._v(_vm._s(_vm.tabsActiveItem.description))])])]),_c('el-tabs',{attrs:{\"type\":\"card\",\"closable\":\"\"},on:{\"tab-click\":_vm.tabClick,\"tab-remove\":_vm.removeTab},model:{value:(_vm.editableTabsValue),callback:function ($$v) {_vm.editableTabsValue=$$v},expression:\"editableTabsValue\"}},_vm._l((_vm.editableTabs),function(item,index){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name}},[_c('div',{staticClass:\"mm-con-inner\"},[_c('h6',{staticClass:\"mm-con-title\"},[_vm._v(\"Tag\")]),_c('el-checkbox-group',{model:{value:(_vm.samplesChecklist),callback:function ($$v) {_vm.samplesChecklist=$$v},expression:\"samplesChecklist\"}},_vm._l((_vm.tabsActiveItem.samples),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item.name}},[_vm._v(_vm._s(item.name)+\"(\"+_vm._s(item.number)+\")\")])}),1),_c('el-divider'),_c('h6',{staticClass:\"mm-con-title\"},[_vm._v(\"Metadata\")]),_c('div',[_c('ul',{staticClass:\"meta-data-ul\"},_vm._l((_vm.prjectMeta),function(item,index){return _c('li',{key:index},[_c('div',{on:{\"click\":function($event){return _vm.metaClick(item)}}},[(item.checked)?_c('img',{attrs:{\"src\":require(\"../../image/btn_selected_check.png\"),\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"../../image/btn_normal_check.png\"),\"alt\":\"\"}})]),_c('span',{on:{\"click\":function($event){return _vm.showInfo(item)}}},[_vm._v(_vm._s(item.name))])])}),0)]),_c('el-divider'),_c('h6',{staticClass:\"mm-con-title\"},[_vm._v(\"Sample\")]),_c('div',{staticClass:\"mm-table\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.activeSamples,\"height\":\"350\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"SampleID\",\"label\":\"Sample\",\"width\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"Tags\",\"label\":\"Tags\",\"width\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"Project\",\"label\":\"Project\"}}),_vm._l((_vm.projectActiveMeta),function(item,index){return _c('el-table-column',{key:index,attrs:{\"prop\":item,\"label\":item}})}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.addAllA(scope.$index, _vm.activeSamples)}}},[_vm._v(\"Add all\")])]}},{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"add-samll\",attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.addCat(scope.$index, scope.row)}}},[_c('img',{attrs:{\"src\":require(\"../../image/btn_add_to.png\"),\"alt\":\"\"}})])]}}],null,true)})],2)],1)],1)])}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Metagenome-outer\">\r\n    <el-container>\r\n      <el-aside width=\"300px\">\r\n        <el-card class=\"aside-card\" shadow=\"always\" style=\"height: 100%\">\r\n          <h4>projects</h4>\r\n          <div class=\"mm-trees-wrap\">\r\n            <el-collapse>\r\n              <el-collapse-item  v-for=\"(item, k) in projectsData\" :key=\"k\" :title=\"item.category\" :name=\"k\">\r\n                <ul class=\"mm-ul\">\r\n                  <li @click=\"checkedA(subItem)\" v-for=\"(subItem, j) in item.projects\" :key=\"j\"><span>{{subItem.name}}({{subItem.sample_num}})</span><img v-if=\"subItem.checked\" src=\"../../image/btn_selected_check.png\" alt=\"\"><img v-else src=\"../../image/btn_normal_check.png\" alt=\"\"></li>\r\n                </ul>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </div>\r\n        </el-card>\r\n      </el-aside>\r\n      <el-container>\r\n        <el-main>\r\n          <el-card shadow=\"always\" style=\"margin-bottom: 20px\">\r\n            <p class=\"mmc-link\" v-if=\"tabsActiveItem.label\">\r\n              <span>{{tabsActiveItem.label}}</span>\r\n              <el-link :href=\"tabsActiveItem.link\" target=\"_blank\" type=\"primary\">Literature Link</el-link>\r\n              <el-link type=\"primary\" target=\"_blank\" :href=\"tabsActiveItem.link\">EMBL Database Link</el-link>\r\n            </p>\r\n            <p v-else></p>\r\n            <p class=\"metahome-tip\">\r\n              <span>{{tabsActiveItem.description}}</span>\r\n            </p>\r\n          </el-card>\r\n          <el-tabs v-model=\"editableTabsValue\" type=\"card\" closable @tab-click=\"tabClick\" @tab-remove=\"removeTab\">\r\n            <el-tab-pane\r\n              v-for=\"(item, index) in editableTabs\"\r\n              :key=\"item.name\"\r\n              :label=\"item.title\"\r\n              :name=\"item.name\"\r\n            >\r\n              <div class=\"mm-con-inner\">\r\n                <h6 class=\"mm-con-title\">Tag</h6>\r\n                <el-checkbox-group v-model=\"samplesChecklist\">\r\n                  <el-checkbox\r\n                    v-for=\"(item, index) in tabsActiveItem.samples\"\r\n                    :key=\"index\"\r\n                    :label=\"item.name\"\r\n                  >{{item.name}}({{item.number}})</el-checkbox>\r\n                </el-checkbox-group>\r\n                <el-divider></el-divider>\r\n                <h6 class=\"mm-con-title\">Metadata</h6>\r\n                <div>\r\n                  <ul class=\"meta-data-ul\">\r\n                    <li v-for=\"(item, index) in prjectMeta\"  :key=\"index\">\r\n                      <div @click=\"metaClick(item)\"><img v-if=\"item.checked\" src=\"../../image/btn_selected_check.png\" alt=\"\"><img v-else src=\"../../image/btn_normal_check.png\" alt=\"\"></div>\r\n                      <span @click=\"showInfo(item)\">{{item.name}}</span>\r\n                    </li>\r\n                  </ul>\r\n                  <!-- <el-checkbox-group v-model=\"MetaChecklist\">\r\n                      <el-checkbox v-for=\"(item, index) in prjectMeta\" :key=\"index\" :label=\"item\"></el-checkbox>\r\n                  </el-checkbox-group> -->\r\n                </div>\r\n                <el-divider></el-divider>\r\n                <h6 class=\"mm-con-title\">Sample</h6>\r\n                <div class=\"mm-table\" style=\"margin-bottom: 10px\">\r\n                  <el-table :data=\"activeSamples\" height=\"350\" border=\"\" style=\"width: 100%;\">\r\n                    <el-table-column prop=\"SampleID\" label=\"Sample\" width=\"\"></el-table-column>\r\n                    <el-table-column prop=\"Tags\" label=\"Tags\" width=\"\"></el-table-column>\r\n                    <el-table-column prop=\"Project\" label=\"Project\"></el-table-column>\r\n                    <el-table-column\r\n                      v-for=\"(item, index) in projectActiveMeta\"\r\n                      :key=\"index\"\r\n                      :prop=\"item\"\r\n                      :label=\"item\"\r\n                    ></el-table-column>\r\n                    <el-table-column align=\"center\" label=\"操作\">\r\n                      <template slot=\"header\" slot-scope=\"scope\">\r\n                        <el-button\r\n                          type=\"primary\"\r\n                          icon=\"el-icon-plus\"\r\n                          @click.native.prevent=\"addAllA(scope.$index, activeSamples)\"\r\n                        >Add all</el-button>\r\n                      </template>\r\n                      <template slot-scope=\"scope\">\r\n                        <el-button\r\n                          class=\"add-samll\"\r\n                          size=\"small\"\r\n                          @click.native.prevent=\"addCat(scope.$index, scope.row)\"\r\n                        >\r\n                          <img src=\"../../image/btn_add_to.png\" alt=\"\">\r\n                        </el-button>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                </div>\r\n                <!-- <el-button type=\"primary\" icon=\"el-icon-download\">下载</el-button> -->\r\n              </div>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport { beforeRouteLeave } from \"@/common/js/mixin.js\";\r\nimport {\r\n  projectsApiF,\r\n  newprojectsApiF,\r\n  projectSamplesApiF,\r\n  projectsOneSamplesApiF,\r\n  oneMetadataBynameApiF\r\n} from \"@/service/requestFun.js\";\r\nimport { setCat } from \"@/common/js/ut\";\r\n\r\nexport default {\r\n  name: \"home\",\r\n  mixins: [beforeRouteLeave],\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      checkList: [],\r\n      samplesChecklist: [],\r\n      MetaChecklist: [],\r\n      editableTabsValue: \"2\",\r\n      tabsActiveItem: {},\r\n      editableTabs: [],\r\n      tabIndex: 2,\r\n      projectActiveMeta: [],\r\n      prjectMeta: [],\r\n      activeSamples: [],\r\n      projectSamplesList: [],\r\n      projectSamples: [],\r\n      projectsDataChecked: [],\r\n      projectsData: [],\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"label\"\r\n      }\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    oneMetadataBynameApiFA(id) {\r\n      oneMetadataBynameApiF(id).then(res => {\r\n        this.$alert(`\r\n        <p><strong>Unit</strong>: ${res.unit || '--'}</p>\r\n        <p><strong>Description</strong>: ${res.unit || '--'} </p>\r\n        `, id, {\r\n          dangerouslyUseHTMLString: true\r\n        });\r\n      }).catch(() => {})\r\n    },\r\n    showInfo(item) {\r\n      this.oneMetadataBynameApiFA(item.name)\r\n    },\r\n    metaClick(item) {\r\n      item.checked = !item.checked\r\n      if (item.checked) {\r\n        if (!this.MetaChecklist.includes(item.name)) {\r\n          this.MetaChecklist.push(item.name);\r\n        }\r\n      } else {\r\n        let _index = this.MetaChecklist.indexOf(item.name);\r\n        if (_index > -1) {\r\n          this.MetaChecklist.splice(_index, 1)\r\n        }\r\n      }\r\n    },\r\n    tabClick(p) {\r\n      // console.log(156, p.name, this.editableTabsValue)\r\n    },\r\n    checkedA(item) {\r\n      item.checked = !item.checked\r\n      if (item.checked) {\r\n        this.addTab(item.label, item.id);\r\n      } else {\r\n        this.removeTab(item.label);\r\n      }\r\n    },\r\n    addCat(p1, p2) {\r\n      setCat({\r\n        Project: p2.Project,\r\n        SampleID: p2.SampleID\r\n      });\r\n    },\r\n    addAllA(p1, p2) {\r\n      p2.forEach(v => {\r\n        setCat({\r\n          Project: v.Project,\r\n          SampleID: v.SampleID\r\n        });\r\n      });\r\n    },\r\n    // handleNodeClick(data, checked) {\r\n    //   if (checked) {\r\n    //     this.addTab(data.label, data.id);\r\n    //   } else {\r\n    //     this.removeTab(data.label);\r\n    //   }\r\n    // },\r\n    addTab(targetName, id) {\r\n      if (this.editableTabs.some(v => v.name == targetName)) {\r\n        this.editableTabsValue = targetName;\r\n        return;\r\n      }\r\n      this.editableTabs.push({\r\n        title: targetName,\r\n        name: targetName,\r\n        content: \"New Tab content\"\r\n      });\r\n      this.editableTabsValue = targetName;\r\n    },\r\n    removeTab(targetName) {\r\n      let tabs = this.editableTabs;\r\n      let activeName = this.editableTabsValue;\r\n      if (activeName === targetName) {\r\n        tabs.forEach((tab, index) => {\r\n          if (tab.name === targetName) {\r\n            let nextTab = tabs[index + 1] || tabs[index - 1];\r\n            if (nextTab) {\r\n              activeName = nextTab.name;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.editableTabsValue = activeName;\r\n      this.editableTabs = tabs.filter(tab => tab.name !== targetName);\r\n      this.projectsData.forEach(v => {\r\n        v.projects.forEach(k => {\r\n          if (k.label == targetName) {\r\n            k.checked = false\r\n          }\r\n        })\r\n      })\r\n      if (!this.editableTabs.length) {\r\n        this.tabsActiveItem = {};\r\n        this.editableTabsValue = ''\r\n      }\r\n    },\r\n    handleTabsEdit(targetName, action) {\r\n      if (action === \"add\") {\r\n        let newTabName = ++this.tabIndex + \"\";\r\n        this.editableTabs.push({\r\n          title: \"New Tab\",\r\n          name: newTabName,\r\n          content: \"New Tab content\"\r\n        });\r\n        this.editableTabsValue = newTabName;\r\n      }\r\n      if (action === \"remove\") {\r\n        let tabs = this.editableTabs;\r\n        let activeName = this.editableTabsValue;\r\n        if (activeName === targetName) {\r\n          tabs.forEach((tab, index) => {\r\n            if (tab.name === targetName) {\r\n              let nextTab = tabs[index + 1] || tabs[index - 1];\r\n              if (nextTab) {\r\n                activeName = nextTab.name;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        this.editableTabsValue = activeName;\r\n        this.editableTabs = tabs.filter(tab => tab.name !== targetName);\r\n      }\r\n    },\r\n    projectSamplesApiFA(id) {\r\n      this.activeSamples = [];\r\n      this.samplesChecklist = []\r\n      projectSamplesApiF(id)\r\n        .then(result => {\r\n          let { meta = [], samples = [] } = result;\r\n          this.prjectMeta = meta.map(v => ({ name: v, checked: false }));\r\n          this.projectSamples = samples;\r\n          this.filterActiveSamples(this.samplesChecklist);\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    filterActiveSamples(nVal) {\r\n      var _list = [];\r\n      this.projectSamples.forEach(v => {\r\n        if (nVal.includes(v.Tags)) {\r\n          _list.push(v);\r\n        }\r\n      });\r\n      this.activeSamples = _list;\r\n    }\r\n  },\r\n  watch: {\r\n    editableTabsValue(nVal, oVal) {\r\n      let _actvieVal = \"\";\r\n      if (nVal) {\r\n        this.projectsData.forEach(v => {\r\n          v.projects.forEach(k => {\r\n            if (k.label == nVal) {\r\n              _actvieVal = k\r\n            }\r\n          })\r\n        })\r\n      }\r\n      this.tabsActiveItem = _actvieVal;\r\n      this.$nextTick(() => {\r\n        if (_actvieVal) {\r\n          this.samplesChecklist = _actvieVal.samples.map(v => v.name)\r\n        }\r\n      })\r\n      if (_actvieVal) {\r\n        this.projectSamplesApiFA(_actvieVal.id);\r\n      }\r\n    },\r\n    samplesChecklist(nVal, oVal) {\r\n      this.filterActiveSamples(nVal);\r\n    },\r\n    MetaChecklist(nVal, oVal) {\r\n      this.projectActiveMeta = nVal;\r\n    }\r\n  },\r\n  mounted() {\r\n    newprojectsApiF()\r\n      .then(result => {\r\n        let _data = result;\r\n        _data.forEach(v => {\r\n          v.projects.forEach(k => {\r\n            k.checked = false\r\n            k.label = k.name\r\n          })\r\n        })\r\n        // let _list = [];\r\n        // for (const key in _data) {\r\n        //   if (_data.hasOwnProperty(key)) {\r\n        //     const element = _data[key];\r\n        //     _list.push({\r\n        //       id: element.id,\r\n        //       label: element.name,\r\n        //       description: element.description,\r\n        //       link: element.link,\r\n        //       samples: element.samples\r\n        //     });\r\n        //   }\r\n        // }\r\n        this.projectsData = _data;\r\n      })\r\n      .catch(() => {});\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./index\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a6f46906&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a6f46906&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6f46906\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAABAElEQVRYCe2XPQ6CQBCFd4yHUCsi8Sp2xiNo7YHsPYKx8yqCUIG3GPcldjwyAfzPUMGb3TfDt1PshOCPE/gzAtL2P6oqeXnbiOgyvs7a1nXRo1cVvc5pMjlI/GB7aUEo5lrejhp0FRdcNEjFNnfVJOgsVrGQIKd5Mlm3FdXwzYp6mxWV5mW9awQHCvCEN3IwqxETcUwgkybTPYsP0eAJb+RgPmMmPnrmKcdE/dECGmhfUkLM5F2aF2SRdkJOyCJgxb2HnJBFwIp7Dzkhi4AV9x7qRQjTAS7k1ua+cXgjB9tPjwyjCqaDV13y4Y0crKCvG4NoQaj8U4Mio+aaE/hpAndGonORywDPUwAAAABJRU5ErkJggg==\"","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAACI0lEQVRYCe2Xv0scQRTHv2/XMgiBVDYWpghWWp2NGgWDmETBJHA2/sIidvZJmfwFFh6SQiGcCAFRA+Gs9KrEImoi/iq0839Q3BnnbbjMrXnHZc45BNlp9u7NvO983nff3e4A6UgduGcOUKV6tNY0/S4aA+EZtG6qtM4pTnQOjY25j+EiEWkpVwRimLfvozUD8oIIV1qjQUp2jf3VIvqa+xAOSlCBJBo7Y2B4zhdMQstox3sIm4tAfJu4GmG9l1Csza0gDPlWmJ4xN1ieE0RcQ+w6Qe5L2SHXHTyuT4GqmVk3h560EEzzOo+6APV1EmYmQ4y8dJd3z6hS81BfgFf9YbyqKxOgO+Nmk9efdtY48rTD1nh8qvB9R3xCVCzLZldckpzgvph4E2Cgx1YeGJXx10mYX4cKs4sKF5fJ/GrfnB0aHQ6QaftTRxgofNtUmMoGaGu1tW3vKSx8UVCq2vb/zjsBNZjWaHxgRZ73Grh2wqOH1q3iD4WldcXPwJqGLes/0q8iYO6zwu8jW3o5TGFLIb9WOwwjOAFxAkPl8gq7BxaK4yuFCCsbyRjHXYczEG8QGaj5JYWf++yGRn41QqFY4z26QezUQ+W53LCflhUeNxNOzvzAsH5NDpXAGMonzK2BSmA+r7dyyCdISUsGMqeD+DWztMrzNdbmE4gwZCBzVOHXTGG9l1CsbfaQxOxfbNnsXR6DRCBmu6uDYpkv6cfUgfvhwDWFNLon2cX7HQAAAABJRU5ErkJggg==\"","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAAAzklEQVQ4EWNgoAFgJMbMrLrfjv/+MpkyMP47NaOF9QAhPUyEFIDk//1h8P7//18nwz8GH2LUE2UoMQYhqxk1FDk0qMOmSZiC02lWzW+3f/8Y3HC58z8Dgz1QzgSIzwA1HMSlDii+e0Yb604WkIJ/DAxWQI3FeBTDpEyA6kCGYwWMTAzfgBIQQ4FhcAxocC9WlUBBol36j+EoLjMwxDOqfvekV/3+D6IxJLEI0CSiRg3FEtIUCtEkTMGJn6DDmBgPMP0HAkZGfLmJoDEUKQAAHigzRy8bUYEAAAAASUVORK5CYII=\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a6f46906&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a6f46906&lang=scss&scoped=true&\""],"sourceRoot":""}