(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d058794c"],{"0611":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Metagenome-outer"},[n("el-container",[n("el-aside",{attrs:{width:"300px"}},[n("el-card",{staticClass:"aside-card",staticStyle:{height:"100%"},attrs:{shadow:"always"}},[n("h4",[t._v("projects")]),n("div",{staticClass:"mm-trees-wrap"},[n("el-collapse",t._l(t.projectsData,function(e,c){return n("el-collapse-item",{key:c,attrs:{title:e.category,name:c}},[n("ul",{staticClass:"mm-ul"},t._l(e.projects,function(e,c){return n("li",{key:c,on:{click:function(a){return t.checkedA(e)}}},[n("span",[t._v(t._s(e.name)+"("+t._s(e.sample_num)+")")]),e.checked?n("img",{attrs:{src:a("3cf2"),alt:""}}):n("img",{attrs:{src:a("284c"),alt:""}})])}),0)])}),1)],1)])],1),n("el-container",[n("el-main",[n("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"always"}},[t.tabsActiveItem.label?n("p",{staticClass:"mmc-link"},[n("span",[t._v(t._s(t.tabsActiveItem.label))]),n("el-link",{attrs:{href:t.tabsActiveItem.link,target:"_blank",type:"primary"}},[t._v("Literature Link")]),n("el-link",{attrs:{type:"primary",target:"_blank",href:t.tabsActiveItem.link}},[t._v("EMBL Database Link")])],1):n("p"),n("p",{staticClass:"metahome-tip"},[n("span",[t._v(t._s(t.tabsActiveItem.description))])])]),n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.removeTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e,a){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("meta-com",{attrs:{tabsItem:e},on:{showInfo:t.showInfo,setActiveSamples:t.setActiveSamples}})],1)}),1)],1)],1)],1)],1)},c=[],i=(a("ac6a"),a("7f7f"),a("510f")),s=a("8678"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mm-con-inner"},[n("h6",{staticClass:"mm-con-title"},[t._v("Tag")]),n("el-checkbox-group",{model:{value:t.tabsItem.samplesChecklist,callback:function(e){t.$set(t.tabsItem,"samplesChecklist",e)},expression:"tabsItem.samplesChecklist"}},t._l(t.tabsItem.tabTags,function(e,a){return n("el-checkbox",{key:a,attrs:{label:e.name}},[t._v(t._s(e.name)+"("+t._s(e.number)+")")])}),1),n("el-divider"),n("h6",{staticClass:"mm-con-title"},[t._v("Metadata")]),n("div",[n("ul",{staticClass:"meta-data-ul"},t._l(t.tabsItem.prjectMeta,function(e,c){return n("li",{key:c},[n("div",{on:{click:function(a){return t.metaClick(e)}}},[e.checked?n("img",{attrs:{src:a("3cf2"),alt:""}}):n("img",{attrs:{src:a("284c"),alt:""}})]),n("span",{on:{click:function(a){return t.showInfo(e)}}},[t._v(t._s(e.name))])])}),0)]),n("el-divider"),n("h6",{staticClass:"mm-con-title"},[t._v("Sample")]),n("div",{staticClass:"mm-table",staticStyle:{"margin-bottom":"10px"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activeSamples,height:"350",border:""}},[n("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),n("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),n("el-table-column",{attrs:{prop:"Project",label:"Project"}}),t._l(t.tabsItem.projectActiveMeta,function(t,e){return n("el-table-column",{key:e,attrs:{prop:t,label:t}})}),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},nativeOn:{click:function(a){return a.preventDefault(),t.addAllA(e.$index,t.activeSamples)}}},[t._v("Add all")])]}},{key:"default",fn:function(e){return[n("el-button",{staticClass:"add-samll",attrs:{size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.addCat(e.$index,e.row)}}},[n("img",{attrs:{src:a("766d"),alt:""}})])]}}])})],2)],1)],1)},l=[],o=(a("6762"),a("2fdb"),a("f65e")),r={name:"MetaCom",data:function(){return{activeSamples:[]}},components:{},watch:{tabsItem:{handler:function(t,e){console.log(81,t,e);var a=[];t.projectSamples.forEach(function(e){t.samplesChecklist.includes(e.Tags)&&a.push(e)}),this.activeSamples=a},deep:!0}},computed:{},props:{tabsItem:{type:Object,default:function(){return{}}}},methods:{addCat:function(t,e){Object(o["c"])({Project:e.Project,SampleID:e.SampleID})},addAllA:function(t,e){e.forEach(function(t){Object(o["c"])({Project:t.Project,SampleID:t.SampleID})})},showInfo:function(t){this.$emit("showInfo",t)},metaClick:function(t){if(t.checked=!t.checked,t.checked)this.tabsItem.projectActiveMeta.includes(t.name)||this.tabsItem.projectActiveMeta.push(t.name);else{var e=this.tabsItem.projectActiveMeta.indexOf(t.name);e>-1&&this.tabsItem.projectActiveMeta.splice(e,1)}}}},m=r,u=(a("426c"),a("2877")),b=Object(u["a"])(m,A,l,!1,null,"5c4b3403",null),d=b.exports,p={name:"home",mixins:[i["a"]],data:function(){return{tableData:[],checkList:[],samplesChecklist:[],editableTabsValue:"2",tabsActiveItem:{},editableTabs:[],tabIndex:2,projectActiveMeta:[],prjectMeta:[],activeSamples:[],projectSamplesList:[],projectSamples:[],projectsDataChecked:[],projectsData:[],defaultProps:{children:"children",label:"label"}}},components:{MetaCom:d},methods:{oneMetadataBynameApiFA:function(t){var e=this;Object(s["h"])(t).then(function(a){e.$alert("\n        <p><strong>Unit</strong>: ".concat(a.unit||"--","</p>\n        <p><strong>Description</strong>: ").concat(a.unit||"--"," </p>\n        "),t,{dangerouslyUseHTMLString:!0})}).catch(function(){})},showInfo:function(t){this.oneMetadataBynameApiFA(t.name)},tabClick:function(t){},checkedA:function(t){console.log(173,t),t.checked=!t.checked,t.checked?this.addTab(t):this.removeTab(t.label)},addTab:function(t){console.log(116,t);var e=t.label;this.editableTabs.some(function(t){return t.name==e})?this.editableTabsValue=e:(this.projectSamplesApiFA(t.id),this.editableTabs.push({title:e,name:e,content:"New Tab content",samplesChecklist:t.samples.map(function(t){return t.name}),tabTags:t.samples,prjectMeta:[],projectSamples:[],projectActiveMeta:[],activeSamples:[],tabsActiveItem:t}),this.editableTabsValue=e)},removeTab:function(t){var e=this.editableTabs,a=this.editableTabsValue;a===t&&e.forEach(function(n,c){if(n.name===t){var i=e[c+1]||e[c-1];i&&(a=i.name)}}),this.editableTabsValue=a,this.editableTabs=e.filter(function(e){return e.name!==t}),this.projectsData.forEach(function(e){e.projects.forEach(function(e){e.label==t&&(e.checked=!1)})}),this.editableTabs.length||(this.tabsActiveItem={},this.editableTabsValue="")},handleTabsEdit:function(t,e){if("add"===e){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}if("remove"===e){var n=this.editableTabs,c=this.editableTabsValue;c===t&&n.forEach(function(e,a){if(e.name===t){var i=n[a+1]||n[a-1];i&&(c=i.name)}}),this.editableTabsValue=c,this.editableTabs=n.filter(function(e){return e.name!==t})}},setActiveSamples:function(t){var e=this;this.editableTabs.forEach(function(a){t.name==e.editableTabsValue&&(a.activeSamples=t.activeSamples)})},projectSamplesApiFA:function(t){var e=this;this.activeSamples=[],this.samplesChecklist=[],Object(s["j"])(t).then(function(t){var a=t.meta,n=void 0===a?[]:a,c=t.samples,i=void 0===c?[]:c;e.editableTabs.forEach(function(t){t.name==e.editableTabsValue&&(t.prjectMeta=n.map(function(t){return{name:t,checked:!1}}),t.projectSamples=i)})}).catch(function(){})}},watch:{editableTabsValue:function(t,e){var a=this;this.editableTabs.forEach(function(e){t==e.name&&(a.tabsActiveItem=e.tabsActiveItem)})}},mounted:function(){var t=this;Object(s["f"])().then(function(e){var a=e;a.forEach(function(t){t.projects.forEach(function(t){t.checked=!1,t.label=t.name})}),t.projectsData=a}).catch(function(){})}},f=p,h=(a("d89d"),Object(u["a"])(f,n,c,!1,null,"33039401",null));e["default"]=h.exports},"284c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAABAElEQVRYCe2XPQ6CQBCFd4yHUCsi8Sp2xiNo7YHsPYKx8yqCUIG3GPcldjwyAfzPUMGb3TfDt1PshOCPE/gzAtL2P6oqeXnbiOgyvs7a1nXRo1cVvc5pMjlI/GB7aUEo5lrejhp0FRdcNEjFNnfVJOgsVrGQIKd5Mlm3FdXwzYp6mxWV5mW9awQHCvCEN3IwqxETcUwgkybTPYsP0eAJb+RgPmMmPnrmKcdE/dECGmhfUkLM5F2aF2SRdkJOyCJgxb2HnJBFwIp7Dzkhi4AV9x7qRQjTAS7k1ua+cXgjB9tPjwyjCqaDV13y4Y0crKCvG4NoQaj8U4Mio+aaE/hpAndGonORywDPUwAAAABJRU5ErkJggg=="},"2fdb":function(t,e,a){"use strict";var n=a("5ca1"),c=a("d2c8"),i="includes";n(n.P+n.F*a("5147")(i),"String",{includes:function(t){return!!~c(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"3cf2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAACI0lEQVRYCe2Xv0scQRTHv2/XMgiBVDYWpghWWp2NGgWDmETBJHA2/sIidvZJmfwFFh6SQiGcCAFRA+Gs9KrEImoi/iq0839Q3BnnbbjMrXnHZc45BNlp9u7NvO983nff3e4A6UgduGcOUKV6tNY0/S4aA+EZtG6qtM4pTnQOjY25j+EiEWkpVwRimLfvozUD8oIIV1qjQUp2jf3VIvqa+xAOSlCBJBo7Y2B4zhdMQstox3sIm4tAfJu4GmG9l1Csza0gDPlWmJ4xN1ieE0RcQ+w6Qe5L2SHXHTyuT4GqmVk3h560EEzzOo+6APV1EmYmQ4y8dJd3z6hS81BfgFf9YbyqKxOgO+Nmk9efdtY48rTD1nh8qvB9R3xCVCzLZldckpzgvph4E2Cgx1YeGJXx10mYX4cKs4sKF5fJ/GrfnB0aHQ6QaftTRxgofNtUmMoGaGu1tW3vKSx8UVCq2vb/zjsBNZjWaHxgRZ73Grh2wqOH1q3iD4WldcXPwJqGLes/0q8iYO6zwu8jW3o5TGFLIb9WOwwjOAFxAkPl8gq7BxaK4yuFCCsbyRjHXYczEG8QGaj5JYWf++yGRn41QqFY4z26QezUQ+W53LCflhUeNxNOzvzAsH5NDpXAGMonzK2BSmA+r7dyyCdISUsGMqeD+DWztMrzNdbmE4gwZCBzVOHXTGG9l1CsbfaQxOxfbNnsXR6DRCBmu6uDYpkv6cfUgfvhwDWFNLon2cX7HQAAAABJRU5ErkJggg=="},"426c":function(t,e,a){"use strict";var n=a("9659"),c=a.n(n);c.a},4703:function(t,e,a){},5147:function(t,e,a){var n=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,!"/./"[t](e)}catch(c){}}return!0}},6762:function(t,e,a){"use strict";var n=a("5ca1"),c=a("c366")(!0);n(n.P,"Array",{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"766d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAAAzklEQVQ4EWNgoAFgJMbMrLrfjv/+MpkyMP47NaOF9QAhPUyEFIDk//1h8P7//18nwz8GH2LUE2UoMQYhqxk1FDk0qMOmSZiC02lWzW+3f/8Y3HC58z8Dgz1QzgSIzwA1HMSlDii+e0Yb604WkIJ/DAxWQI3FeBTDpEyA6kCGYwWMTAzfgBIQQ4FhcAxocC9WlUBBol36j+EoLjMwxDOqfvekV/3+D6IxJLEI0CSiRg3FEtIUCtEkTMGJn6DDmBgPMP0HAkZGfLmJoDEUKQAAHigzRy8bUYEAAAAASUVORK5CYII="},"7f7f":function(t,e,a){var n=a("86cc").f,c=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in c||a("9e1e")&&n(c,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},9659:function(t,e,a){},d2c8:function(t,e,a){var n=a("aae3"),c=a("be13");t.exports=function(t,e,a){if(n(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(c(t))}},d89d:function(t,e,a){"use strict";var n=a("4703"),c=a.n(n);c.a}}]);
//# sourceMappingURL=chunk-d058794c.1fa695a9.js.map