(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dada1c9"],{"0611":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Metagenome-outer"},[n("el-container",[n("el-aside",{attrs:{width:"300px"}},[n("el-card",{staticClass:"aside-card",staticStyle:{height:"100%"},attrs:{shadow:"always"}},[n("h4",[t._v("projects")]),n("div",{staticClass:"mm-trees-wrap"},[n("el-collapse",t._l(t.projectsData,function(e,c){return n("el-collapse-item",{key:c,attrs:{title:e.category,name:c}},[n("ul",{staticClass:"mm-ul"},t._l(e.projects,function(e,c){return n("li",{key:c,on:{click:function(a){return t.checkedA(e)}}},[n("span",[t._v(t._s(e.name)+"("+t._s(e.sample_num)+")")]),e.checked?n("img",{attrs:{src:a("3cf2"),alt:""}}):n("img",{attrs:{src:a("284c"),alt:""}})])}),0)])}),1)],1)])],1),n("el-container",[n("el-main",[n("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"always"}},[t.tabsActiveItem.label?n("p",{staticClass:"mmc-link"},[n("span",[t._v(t._s(t.tabsActiveItem.label))]),n("el-link",{attrs:{href:t.tabsActiveItem.link,target:"_blank",type:"primary"}},[t._v("Literature Link")]),n("el-link",{attrs:{type:"primary",target:"_blank",href:t.tabsActiveItem.link}},[t._v("EMBL Database Link")])],1):n("p"),n("p",{staticClass:"metahome-tip"},[n("span",[t._v(t._s(t.tabsActiveItem.description))])])]),n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.removeTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e,c){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("div",{staticClass:"mm-con-inner"},[n("h6",{staticClass:"mm-con-title"},[t._v("Tag")]),n("el-checkbox-group",{model:{value:t.samplesChecklist,callback:function(e){t.samplesChecklist=e},expression:"samplesChecklist"}},t._l(t.tabsActiveItem.samples,function(e,a){return n("el-checkbox",{key:a,attrs:{label:e.name}},[t._v(t._s(e.name)+"("+t._s(e.number)+")")])}),1),n("el-divider"),n("h6",{staticClass:"mm-con-title"},[t._v("Metadata")]),n("div",[n("ul",{staticClass:"meta-data-ul"},t._l(t.prjectMeta,function(e,c){return n("li",{key:c},[n("div",{on:{click:function(a){return t.metaClick(e)}}},[e.checked?n("img",{attrs:{src:a("3cf2"),alt:""}}):n("img",{attrs:{src:a("284c"),alt:""}})]),n("span",{on:{click:function(a){return t.showInfo(e)}}},[t._v(t._s(e.name))])])}),0)]),n("el-divider"),n("h6",{staticClass:"mm-con-title"},[t._v("Sample")]),n("div",{staticClass:"mm-table",staticStyle:{"margin-bottom":"10px"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activeSamples,height:"350",border:""}},[n("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),n("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),n("el-table-column",{attrs:{prop:"Project",label:"Project"}}),t._l(t.projectActiveMeta,function(t,e){return n("el-table-column",{key:e,attrs:{prop:t,label:t}})}),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},nativeOn:{click:function(a){return a.preventDefault(),t.addAllA(e.$index,t.activeSamples)}}},[t._v("Add all")])]}},{key:"default",fn:function(e){return[n("el-button",{staticClass:"add-samll",attrs:{size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.addCat(e.$index,e.row)}}},[n("img",{attrs:{src:a("766d"),alt:""}})])]}}],null,!0)})],2)],1)],1)])}),1)],1)],1)],1)],1)},c=[],i=(a("ac6a"),a("6762"),a("2fdb"),a("7f7f"),a("510f")),A=a("8678"),s=a("f65e"),l={name:"home",mixins:[i["a"]],data:function(){return{tableData:[],checkList:[],samplesChecklist:[],MetaChecklist:[],editableTabsValue:"2",tabsActiveItem:{},editableTabs:[],tabIndex:2,projectActiveMeta:[],prjectMeta:[],activeSamples:[],projectSamplesList:[],projectSamples:[],projectsDataChecked:[],projectsData:[],defaultProps:{children:"children",label:"label"}}},components:{},methods:{oneMetadataBynameApiFA:function(t){var e=this;Object(A["h"])(t).then(function(a){e.$alert("\n        <p><strong>Unit</strong>: ".concat(a.unit||"--","</p>\n        <p><strong>Description</strong>: ").concat(a.unit||"--"," </p>\n        "),t,{dangerouslyUseHTMLString:!0})}).catch(function(){})},showInfo:function(t){this.oneMetadataBynameApiFA(t.name)},metaClick:function(t){if(t.checked=!t.checked,t.checked)this.MetaChecklist.includes(t.name)||this.MetaChecklist.push(t.name);else{var e=this.MetaChecklist.indexOf(t.name);e>-1&&this.MetaChecklist.splice(e,1)}},tabClick:function(t){},checkedA:function(t){t.checked=!t.checked,t.checked?this.addTab(t.label,t.id):this.removeTab(t.label)},addCat:function(t,e){Object(s["c"])({Project:e.Project,SampleID:e.SampleID})},addAllA:function(t,e){e.forEach(function(t){Object(s["c"])({Project:t.Project,SampleID:t.SampleID})})},addTab:function(t,e){this.editableTabs.some(function(e){return e.name==t})?this.editableTabsValue=t:(this.editableTabs.push({title:t,name:t,content:"New Tab content"}),this.editableTabsValue=t)},removeTab:function(t){var e=this.editableTabs,a=this.editableTabsValue;a===t&&e.forEach(function(n,c){if(n.name===t){var i=e[c+1]||e[c-1];i&&(a=i.name)}}),this.editableTabsValue=a,this.editableTabs=e.filter(function(e){return e.name!==t}),this.projectsData.forEach(function(e){e.projects.forEach(function(e){e.label==t&&(e.checked=!1)})}),this.editableTabs.length||(this.tabsActiveItem={},this.editableTabsValue="")},handleTabsEdit:function(t,e){if("add"===e){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}if("remove"===e){var n=this.editableTabs,c=this.editableTabsValue;c===t&&n.forEach(function(e,a){if(e.name===t){var i=n[a+1]||n[a-1];i&&(c=i.name)}}),this.editableTabsValue=c,this.editableTabs=n.filter(function(e){return e.name!==t})}},projectSamplesApiFA:function(t){var e=this;this.activeSamples=[],this.samplesChecklist=[],Object(A["j"])(t).then(function(t){var a=t.meta,n=void 0===a?[]:a,c=t.samples,i=void 0===c?[]:c;e.prjectMeta=n.map(function(t){return{name:t,checked:!1}}),e.projectSamples=i,e.filterActiveSamples(e.samplesChecklist)}).catch(function(){})},filterActiveSamples:function(t){var e=[];this.projectSamples.forEach(function(a){t.includes(a.Tags)&&e.push(a)}),this.activeSamples=e}},watch:{editableTabsValue:function(t,e){var a=this,n="";t&&this.projectsData.forEach(function(e){e.projects.forEach(function(e){e.label==t&&(n=e)})}),this.tabsActiveItem=n,this.$nextTick(function(){n&&(a.samplesChecklist=n.samples.map(function(t){return t.name}))}),n&&this.projectSamplesApiFA(n.id)},samplesChecklist:function(t,e){this.filterActiveSamples(t)},MetaChecklist:function(t,e){this.projectActiveMeta=t}},mounted:function(){var t=this;Object(A["f"])().then(function(e){var a=e;a.forEach(function(t){t.projects.forEach(function(t){t.checked=!1,t.label=t.name})}),t.projectsData=a}).catch(function(){})}},r=l,o=(a("ffcc"),a("2877")),u=Object(o["a"])(r,n,c,!1,null,"a6f46906",null);e["default"]=u.exports},"0b54":function(t,e,a){},"284c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAABAElEQVRYCe2XPQ6CQBCFd4yHUCsi8Sp2xiNo7YHsPYKx8yqCUIG3GPcldjwyAfzPUMGb3TfDt1PshOCPE/gzAtL2P6oqeXnbiOgyvs7a1nXRo1cVvc5pMjlI/GB7aUEo5lrejhp0FRdcNEjFNnfVJOgsVrGQIKd5Mlm3FdXwzYp6mxWV5mW9awQHCvCEN3IwqxETcUwgkybTPYsP0eAJb+RgPmMmPnrmKcdE/dECGmhfUkLM5F2aF2SRdkJOyCJgxb2HnJBFwIp7Dzkhi4AV9x7qRQjTAS7k1ua+cXgjB9tPjwyjCqaDV13y4Y0crKCvG4NoQaj8U4Mio+aaE/hpAndGonORywDPUwAAAABJRU5ErkJggg=="},"2fdb":function(t,e,a){"use strict";var n=a("5ca1"),c=a("d2c8"),i="includes";n(n.P+n.F*a("5147")(i),"String",{includes:function(t){return!!~c(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"3cf2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAACI0lEQVRYCe2Xv0scQRTHv2/XMgiBVDYWpghWWp2NGgWDmETBJHA2/sIidvZJmfwFFh6SQiGcCAFRA+Gs9KrEImoi/iq0839Q3BnnbbjMrXnHZc45BNlp9u7NvO983nff3e4A6UgduGcOUKV6tNY0/S4aA+EZtG6qtM4pTnQOjY25j+EiEWkpVwRimLfvozUD8oIIV1qjQUp2jf3VIvqa+xAOSlCBJBo7Y2B4zhdMQstox3sIm4tAfJu4GmG9l1Csza0gDPlWmJ4xN1ieE0RcQ+w6Qe5L2SHXHTyuT4GqmVk3h560EEzzOo+6APV1EmYmQ4y8dJd3z6hS81BfgFf9YbyqKxOgO+Nmk9efdtY48rTD1nh8qvB9R3xCVCzLZldckpzgvph4E2Cgx1YeGJXx10mYX4cKs4sKF5fJ/GrfnB0aHQ6QaftTRxgofNtUmMoGaGu1tW3vKSx8UVCq2vb/zjsBNZjWaHxgRZ73Grh2wqOH1q3iD4WldcXPwJqGLes/0q8iYO6zwu8jW3o5TGFLIb9WOwwjOAFxAkPl8gq7BxaK4yuFCCsbyRjHXYczEG8QGaj5JYWf++yGRn41QqFY4z26QezUQ+W53LCflhUeNxNOzvzAsH5NDpXAGMonzK2BSmA+r7dyyCdISUsGMqeD+DWztMrzNdbmE4gwZCBzVOHXTGG9l1CsbfaQxOxfbNnsXR6DRCBmu6uDYpkv6cfUgfvhwDWFNLon2cX7HQAAAABJRU5ErkJggg=="},5147:function(t,e,a){var n=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,!"/./"[t](e)}catch(c){}}return!0}},6762:function(t,e,a){"use strict";var n=a("5ca1"),c=a("c366")(!0);n(n.P,"Array",{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"766d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAFQAAAAAIGxIOAAAAzklEQVQ4EWNgoAFgJMbMrLrfjv/+MpkyMP47NaOF9QAhPUyEFIDk//1h8P7//18nwz8GH2LUE2UoMQYhqxk1FDk0qMOmSZiC02lWzW+3f/8Y3HC58z8Dgz1QzgSIzwA1HMSlDii+e0Yb604WkIJ/DAxWQI3FeBTDpEyA6kCGYwWMTAzfgBIQQ4FhcAxocC9WlUBBol36j+EoLjMwxDOqfvekV/3+D6IxJLEI0CSiRg3FEtIUCtEkTMGJn6DDmBgPMP0HAkZGfLmJoDEUKQAAHigzRy8bUYEAAAAASUVORK5CYII="},"7f7f":function(t,e,a){var n=a("86cc").f,c=Function.prototype,i=/^\s*function ([^ (]*)/,A="name";A in c||a("9e1e")&&n(c,A,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},d2c8:function(t,e,a){var n=a("aae3"),c=a("be13");t.exports=function(t,e,a){if(n(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(c(t))}},ffcc:function(t,e,a){"use strict";var n=a("0b54"),c=a.n(n);c.a}}]);
//# sourceMappingURL=chunk-5dada1c9.c2f4b262.js.map