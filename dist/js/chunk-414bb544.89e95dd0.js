(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-414bb544"],{"0611":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Metagenome-outer"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("el-card",{staticClass:"aside-card",staticStyle:{height:"100%"},attrs:{shadow:"always"}},[a("h4",[e._v("projects")]),a("div",{staticClass:"mm-trees-wrap"},[a("el-tree",{ref:"tree",attrs:{data:e.projectsData,"show-checkbox":"","node-key":"id","default-checked-keys":e.projectsDataChecked,props:e.defaultProps},on:{"check-change":e.handleNodeClick}})],1)])],1),a("el-container",[a("el-main",[a("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"always"}},[e.tabsActiveItem.label?a("p",{staticClass:"mmc-link"},[a("span",[e._v(e._s(e.tabsActiveItem.label))]),a("el-link",{attrs:{href:e.tabsActiveItem.link,target:"_blank",type:"primary"}},[e._v("文献链接")]),a("el-link",{attrs:{type:"primary",target:"_blank",href:e.tabsActiveItem.link}},[e._v("EMBL数据库连接")])],1):a("p"),a("p",{staticClass:"metahome-tip"},[a("span",[e._v(e._s(e.tabsActiveItem.description))])])]),a("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(t,n){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[a("div",{staticClass:"mm-con-inner"},[a("h6",{staticClass:"mm-con-title",staticStyle:{"margin-top":"0px"}},[e._v("Tag")]),a("el-checkbox-group",{model:{value:e.samplesChecklist,callback:function(t){e.samplesChecklist=t},expression:"samplesChecklist"}},e._l(e.tabsActiveItem.samples,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})}),1),a("h6",{staticClass:"mm-con-title"},[e._v("Metadata")]),a("div",[a("el-checkbox-group",{model:{value:e.MetaChecklist,callback:function(t){e.MetaChecklist=t},expression:"MetaChecklist"}},e._l(e.prjectMeta,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})}),1)],1),a("h6",{staticClass:"mm-con-title"},[e._v("Sample")]),a("div",{staticClass:"mm-table",staticStyle:{"margin-bottom":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.activeSamples,height:"350",border:""}},[a("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),a("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),a("el-table-column",{attrs:{prop:"Project",label:"Project"}}),e._l(e.projectActiveMeta,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:e}})}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},nativeOn:{click:function(a){return a.preventDefault(),e.addAllA(t.$index,e.activeSamples)}}},[e._v("add all")])]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"primary",icon:"el-icon-plus"},nativeOn:{click:function(a){return a.preventDefault(),e.addCat(t.$index,t.row)}}})]}}],null,!0)})],2)],1)],1)])}),1)],1)],1)],1)],1)},i=[],c=(a("b54a"),a("6762"),a("2fdb"),a("7f7f"),a("ac6a"),a("510f")),l=a("8678"),s=a("f65e"),r={name:"home",mixins:[c["a"]],data:function(){return{tableData:[],checkList:["选中且禁用","复选框 A"],samplesChecklist:[],MetaChecklist:[],editableTabsValue:"2",tabsActiveItem:{},editableTabs:[],tabIndex:2,projectActiveMeta:[],prjectMeta:[],activeSamples:[],projectSamplesList:[],projectsDataChecked:[],projectsData:[],defaultProps:{children:"children",label:"label"}}},components:{},methods:{addCat:function(e,t){Object(s["c"])({Project:t.Project,SampleID:t.SampleID})},addAllA:function(e,t){console.log(172,e,t),t.forEach(function(e){Object(s["c"])({Project:e.Project,SampleID:e.SampleID})})},handleCheckedCitiesChange:function(e){e.length},handleNodeClick:function(e,t){console.log(this.$refs.tree.getCheckedNodes()),console.log(this.$refs.tree.getCurrentKey()),console.log(165,e,t),t?this.addTab(e.label,e.id):this.removeTab(e.label)},addTab:function(e,t){console.log(1606,this.projectsDataChecked),this.editableTabs.some(function(t){return t.name==e})?this.editableTabsValue=e:(this.editableTabs.push({title:e,name:e,content:"New Tab content"}),this.editableTabsValue=e,this.projectSamplesApiFA(t))},removeTab:function(e){var t=this.editableTabs,a=this.editableTabsValue;a===e&&t.forEach(function(n,i){if(n.name===e){var c=t[i+1]||t[i-1];c&&(a=c.name)}}),this.editableTabsValue=a,this.editableTabs=t.filter(function(t){return t.name!==e})},handleTabsEdit:function(e,t){if("add"===t){var a=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:a,content:"New Tab content"}),this.editableTabsValue=a}if("remove"===t){var n=this.editableTabs,i=this.editableTabsValue;i===e&&n.forEach(function(t,a){if(t.name===e){var c=n[a+1]||n[a-1];c&&(i=c.name)}}),this.editableTabsValue=i,this.editableTabs=n.filter(function(t){return t.name!==e})}},projectSamplesApiFA:function(e){var t=this;this.activeSamples=[],Object(l["g"])(e).then(function(e){var a=e.meta,n=void 0===a?[]:a,i=e.samples,c=void 0===i?[]:i;t.prjectMeta=n,t.projectSamples=c,console.log(213,e)}).catch(function(){})}},watch:{editableTabsValue:function(e,t){var a="";e&&(a=this.projectsData.filter(function(t){return t.label==e})),this.tabsActiveItem=a[0],console.log(224,this.projectsData,e,t,a)},samplesChecklist:function(e,t){console.log(251,this.projectSamples,e,t);var a=[];this.projectSamples.forEach(function(t){e.includes(t.Tags)&&a.push(t)}),this.activeSamples=a},MetaChecklist:function(e,t){this.projectActiveMeta=e}},mounted:function(){var e=this;Object(l["h"])().then(function(t){var a=t,n=[];for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];n.push({id:c.id,label:c.name,description:c.description,link:c.link,samples:c.samples})}e.projectsData=n}).catch(function(){})}},o=r,u=(a("acab"),a("2877")),b=Object(u["a"])(o,n,i,!1,null,"7c5e3c3f",null);t["default"]=b.exports},"2fdb":function(e,t,a){"use strict";var n=a("5ca1"),i=a("d2c8"),c="includes";n(n.P+n.F*a("5147")(c),"String",{includes:function(e){return!!~i(this,e,c).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"386b":function(e,t,a){var n=a("5ca1"),i=a("79e5"),c=a("be13"),l=/"/g,s=function(e,t,a,n){var i=String(c(e)),s="<"+t;return""!==a&&(s+=" "+a+'="'+String(n).replace(l,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var a={};a[e]=t(s),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",a)}},5147:function(e,t,a){var n=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,!"/./"[e](t)}catch(i){}}return!0}},6762:function(e,t,a){"use strict";var n=a("5ca1"),i=a("c366")(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"6b85":function(e,t,a){},"7f7f":function(e,t,a){var n=a("86cc").f,i=Function.prototype,c=/^\s*function ([^ (]*)/,l="name";l in i||a("9e1e")&&n(i,l,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(e){return""}}})},acab:function(e,t,a){"use strict";var n=a("6b85"),i=a.n(n);i.a},b54a:function(e,t,a){"use strict";a("386b")("link",function(e){return function(t){return e(this,"a","href",t)}})},d2c8:function(e,t,a){var n=a("aae3"),i=a("be13");e.exports=function(e,t,a){if(n(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(i(e))}}}]);
//# sourceMappingURL=chunk-414bb544.89e95dd0.js.map