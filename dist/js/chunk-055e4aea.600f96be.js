(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-055e4aea"],{"487c":function(e,t,a){"use strict";var l=a("d386"),n=a.n(l);n.a},"7f7f":function(e,t,a){var l=a("86cc").f,n=Function.prototype,c=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&l(n,i,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(e){return""}}})},c900:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"GlobalSearch-outer"},[a("el-row",[a("label",{staticClass:"h3-title"},[e._v("Project： ")]),a("el-select",{staticStyle:{width:"240px"},attrs:{size:"small",filterable:"",placeholder:"Please select project first"},on:{change:e.projectChange},model:{value:e.projectValue,callback:function(t){e.projectValue=t},expression:"projectValue"}},e._l(e.projectOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("div",{staticClass:"c-meta-outer"},[e.ruleList.length?a("h3",{staticClass:"h3-title"},[e._v("Please select metadata")]):e._e(),e._l(e.ruleList,function(t,l){return a("el-row",{key:l,staticStyle:{"margin-bottom":"20px"}},[a("label",{staticClass:"cmeta-title"},[e._v(e._s(t.name)+":")]),"enum"==t.type?a("el-checkbox-group",{staticClass:"enum-outer",model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},e._l(t.values,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e}})}),1):e._e(),"range"==t.type?a("div",{staticClass:"range-outer"},[a("el-input",{staticClass:"rang-input",attrs:{type:"number",size:"mini",placeholder:"min"},model:{value:t.min,callback:function(a){e.$set(t,"min",a)},expression:"item.min"}}),a("label",{staticClass:"rang-label"},[e._v("-")]),a("el-input",{staticClass:"rang-input",attrs:{type:"number",size:"mini",placeholder:"max"},model:{value:t.max,callback:function(a){e.$set(t,"max",a)},expression:"item.max"}})],1):e._e()],1)}),a("el-row",{staticStyle:{"margin-top":"60px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchA}},[e._v("search")])],1)],2),a("el-drawer",{attrs:{title:"Sample",size:"80%",visible:e.drawer,"with-header":!0},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"search-table",staticStyle:{"margin-bottom":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.activeSamples,border:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"SampleID",label:"Sample",width:""}}),a("el-table-column",{attrs:{prop:"Tags",label:"Tags",width:""}}),a("el-table-column",{attrs:{prop:"Project",label:"Project"}}),e._l(e.projectActiveMeta,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:e}})}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-plus",type:"success",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addAllA(t.$index,e.activeSamples)}}},[e._v("add all")])]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addCat(t.$index,e.activeSamples[t.$index])}}})]}}])})],2)],1)])],1)},n=[],c=(a("ac6a"),a("7f7f"),a("510f")),i=a("f65e"),r=a("8678"),o={name:"home",mixins:[c["a"]],data:function(){return{drawer:!1,projectActiveMeta:[],activeSamples:[],projectOptions:[{value:"选项1",label:"黄金糕"}],projectValue:"",ruleList:[]}},components:{},methods:{projectsApiFA:function(){var e=this;Object(r["h"])().then(function(t){e.projectOptions=t.map(function(e){return{value:e.id,label:e.name}})}).catch(function(e){})},projectChange:function(e){this.searchRulerApiFA(e),console.log(153,e,this.ruleList)},searchRulerApiFA:function(e){var t=this;Object(r["k"])(e).then(function(e){var a=e.ruler.ruler;a.forEach(function(e){"enum"==e.type?e.checked=[]:"range"==e.type&&(e.min="",e.max="")}),t.ruleList=a,console.log(157,t.ruleList)}).catch(function(){})},globalSearchApiFA:function(e){var t=this;Object(r["b"])(e).then(function(e){t.projectActiveMeta=e.meta,t.activeSamples=e.samples,console.log(186,e)}).catch(function(){})},searchA:function(){if(this.projectValue){this.drawer=!0;var e={},t=JSON.parse(JSON.stringify(this.ruleList));t.forEach(function(t){"enum"==t.type?e[t.name]=t.checked:"range"==t.type&&(t.min?e[t.name]={min:t.min?+t.min:"",max:t.max?+t.max:""}:e[t.name]={})}),console.log(207,{project_id:this.projectValue,filter:e}),this.globalSearchApiFA({project_id:this.projectValue,filter:e})}else this.$message.warning("Please select project first")},addCat:function(e,t){Object(i["c"])({Project:t.Project,SampleID:t.SampleID}),console.log(Object(i["b"])()),console.log(e,t)},addAllA:function(e,t){console.log(172,e,t),t.forEach(function(e){Object(i["c"])({Project:e.Project,SampleID:e.SampleID})})}},watch:{},mounted:function(){this.projectsApiFA()}},s=o,u=(a("487c"),a("2877")),p=Object(u["a"])(s,l,n,!1,null,"645d9dab",null);t["default"]=p.exports},d386:function(e,t,a){}}]);
//# sourceMappingURL=chunk-055e4aea.600f96be.js.map